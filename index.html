<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìŠ¤ìŠ¹ë‹˜ X ì„œìˆ˜ì—° í”„ë¡œ ìˆê²Œì„ í´ë˜ìŠ¤</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />

  <style>
    body{
      font-family:"Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto,
        "Helvetica Neue","Segoe UI","Apple SD Gothic Neo","Noto Sans KR","Malgun Gothic",sans-serif;
      background:#f8fafc; overflow-x:hidden;
    }
    .aspect-4-5{ aspect-ratio:4/5; }
    .tap{ -webkit-tap-highlight-color: transparent; }
  </style>

  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@19.2.0",
        "react-dom/client": "https://esm.sh/react-dom@19.2.0/client",
        "@google/genai": "https://esm.sh/@google/genai@1.40.0"
      }
    }
  </script>
</head>
<body>
  <div id="root"></div>

  <script type="module">
    import React, { useCallback, useEffect, useMemo, useState } from "react";
    import { createRoot } from "react-dom/client";
    import { GoogleGenAI } from "@google/genai";
    const h = React.createElement;

    const GLOBAL_PROMPT_PREFIX = `
- Output: 4:5 vertical card scene image for mobile.
- Must keep safe-area padding 8% on all sides. No cropping.
- Include bottom navigation UI visually â€œâ—€ 1/8 â–¶â€ and CTA button shape at bottom center (visual only).
- Korean text only, Pretendard-like, readable, not oversized.
- No real photos. No app mockups. No screenshots.
- Realistic 3D humans only. No cute/chibi. No Pixar/Disney.
- Coach: beautiful Korean female golf pro, slim athletic, cap, golfwear, confident coach vibe, centered.
- Students: mixed amateurs, slightly awkward posture, relatable.
- Golf-only scenes: green/putting/bunker/approach/outdoor course. No office, no plain single-color.
- Each page must be a specific SCENE showing emotion + action + flow.
- Benefit page: coupon/%/ticket/coin-style benefit icons (not cash).
- Apply page: blurred chat-style background with 2â€“3 bubbles (generic, not screenshot).
- Do not merge discounts. Keep: â€œë ˆìŠ¨ 15% í• ì¸ + 2ì¸ ë™ë°˜ ì‹œ ì—°ìŠµì¥ë¹„ 50% ì§€ì›(ìµœëŒ€ 2ë§Œì›/ì¡°ê±´ë³„)â€.
    `.trim();

    const PAGES = [
      {
        id: 1,
        subtitle: "2026 ì‹œì¦Œ ëŒ€ë¹„",
        titleLines: ["ìˆê²Œì„ë§Œ ì¡ì•„ë„"],
        highlightText: "10íƒ€ëŠ” ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤",
        highlightClass: "text-blue-600",
        descriptionLines: ["ìŠ¤ìŠ¹ë‹˜ X ì„œìˆ˜ì—° í”„ë¡œ"],
        prompt: `
[PAGE 1 â€” ì‹œì¦Œ ì‹œì‘(í›„í‚¹)]
í‘¸ë¥¸ í•˜ëŠ˜, ë„“ì€ ê·¸ë¦°, ë”°ëœ»í•œ í–‡ì‚´, ë©€ë¦¬ ì‘ì€ ê³¨í”„ ì¹´íŠ¸, ì‚´ì§ ë Œì¦ˆ í”Œë ˆì–´.
ì¤‘ì•™: ì˜ˆìœ í•œêµ­ì¸ ì—¬ì ê³¨í”„í”„ë¡œ(ì½”ì¹˜) ìì‹ ê° ìˆëŠ” í‘œì •, í”„ë¦¬ë¯¸ì—„ ê³¨í”„ì›¨ì–´.
ì˜†: 1-2ëª… ì•„ë§ˆì¶”ì–´ ê³¨í¼, ì„¤ë ˆëŠ” í‘œì •.
ê°ì •: â€œì•„â€¦ ì‹œì¦Œ ì‹œì‘ì´êµ¬ë‚˜â€.
í…ìŠ¤íŠ¸ëŠ” í•œêµ­ì–´, ì•ˆì „ì˜ì—­ ë‚´. í•˜ë‹¨ì— â—€ 1/8 â–¶ ê³¼ CTA ë²„íŠ¼ í˜•íƒœ í¬í•¨.
        `.trim()
      },
      {
        id: 2,
        subtitle: "ìˆê²Œì„ í•˜ë‚˜ë¡œ 5íƒ€ ì´ìƒ ê°ëŸ‰",
        titleLines: ["ë“œë¼ì´ë²„ ì˜ ì³ë†“ê³ ", "ê·¸ë¦° ì£¼ë³€ì—ì„œ ê¹Œë¨¹ëŠ” ìŠ¤ì½”ì–´.."],
        emphasizeText: "ë„ˆë¬´ ì—´ë°›ì§€ ì•Šìœ¼ì„¸ìš”?",
        emphasizeClass: "text-red-500",
        descriptionLines: ["ì—°ìŠµì¥ì—ì„œëŠ” í”„ë¡œ,", "í•„ë“œì—ì„œëŠ” ë°±ëŒì´."],
        prompt: `
[PAGE 2 â€” ë¶„ë…¸ + ì•„ì‰¬ì›€(ë¬¸ì œ ê³µê°)]
ê·¸ë¦° ì£¼ë³€. í™€ì»µ ê°€ê¹Œì´ì— ë©ˆì¶˜ ê³µ(ì•„ì‰¬ìš´ ê·¼ì ‘ ë¯¸ìŠ¤).
í¼í„° ë“¤ê³  ë¨¸ë¦¬ ê¸ì ì´ëŠ” ì•„ë§ˆì¶”ì–´(ë¶„ë…¸+ì•„ì‰¬ì›€ í‘œì •).
ë’¤ìª½ì€ íë¦¿í•œ ìŠ¤ì½”ì–´ë³´ë“œ(ë”ë¸”ë³´ê¸° ëŠë‚Œ) â€” ê³¼í•œ ë””í…Œì¼ ì—†ì´ ë¸”ëŸ¬.
ì½”ì¹˜(ì˜ˆìœ í•œêµ­ì¸ ì—¬ì í”„ë¡œ)ëŠ” ê³µê°/ì§„ì •ì‹œí‚¤ë©° ì„¤ëª…í•˜ëŠ” í¬ì¦ˆ.
ê°ì •: â€œì•„ ì”¨â€¦ ë˜ ì—¬ê¸°ì„œ ë¬´ë„ˆì¡Œë„¤â€.
í•˜ë‹¨ â—€ 2/8 â–¶ + CTA ë²„íŠ¼ í˜•íƒœ. ì•ˆì „ì˜ì—­ 8%.
        `.trim()
      },
      {
        id: 3,
        subtitle: "ì–´í”„ë¡œì¹˜ Â· ë²™ì»¤ Â· í¼íŒ…",
        titleLines: ["ì„œìˆ˜ì—° í”„ë¡œ", "ìˆê²Œì„ í´ë˜ìŠ¤"],
        descriptionLines: ["ì‹¤ì „ë§Œ ì§‘ì¤‘í•˜ëŠ” 2ì‹œê°„"],
        prompt: `
[PAGE 3 â€” ì†”ë£¨ì…˜(í”„ë¡œ ë“±ì¥)]
ìˆê²Œì„ ì—°ìŠµì¡´. íƒ€ê²Ÿ ë§¤íŠ¸, ì–´í”„ë¡œì¹˜ ê±°ë¦¬ ë§ˆì»¤, ì‘ì€ ê¹ƒë°œ/ì½˜.
ì½”ì¹˜(ì˜ˆìœ í•œêµ­ì¸ ì—¬ì í”„ë¡œ) ë’¤ì— ì€ì€í•œ ë¼ì´íŠ¸(íˆì–´ë¡œ ëŠë‚Œ).
ì½”ì¹˜ëŠ” ì›¨ì§€ ìì„¸ ë°ëª¨, ì•„ë§ˆì¶”ì–´ëŠ” ì§‘ì¤‘í•´ì„œ ë³´ëŠ” ì¥ë©´.
ê°ì •: â€œì•„ ì—¬ê¸°ì„œ ë°°ìš°ëŠ”êµ¬ë‚˜â€.
í•˜ë‹¨ â—€ 3/8 â–¶ + CTA ë²„íŠ¼ í˜•íƒœ. ì•ˆì „ì˜ì—­ 8%.
        `.trim()
      },
      {
        id: 4,
        titleLines: ["í´ë˜ìŠ¤ í•µì‹¬ í¬ì¸íŠ¸"],
        points: ["âœ” ì´ë¡  ìµœì†Œ", "âœ” ì‹¤ì „ ì§‘ì¤‘", "âœ” ì†Œìˆ˜ì •ì˜ˆ ë‹¨ë…", "âœ” ë‚ ì§œ ì§ì ‘ ì„ íƒ"],
        prompt: `
[PAGE 4 â€” ì²´ê³„ì ì¸ ì½”ì¹­(íŠ¹ì§•)]
ì´ë™ì‹ ì‘ì€ í™”ì´íŠ¸ë³´ë“œ, ê¶¤ì  í™”ì‚´í‘œ ê·¸ë˜í”½.
ê³µì˜ ê¶¤ì  ë¼ì¸ ì˜¤ë²„ë ˆì´(ê°€ë²¼ìš´ ê·¸ë˜í”½).
ì½”ì¹˜ê°€ ë³´ë“œ ê°€ë¦¬í‚¤ë©° ì„¤ëª…, ì•„ë§ˆì¶”ì–´ëŠ” ê³ ê°œ ë„ë•.
ê°ì •: â€œì•„ ê·¸ëƒ¥ ì¹˜ëŠ”ê²Œ ì•„ë‹ˆë„¤â€.
í•˜ë‹¨ â—€ 4/8 â–¶ + CTA ë²„íŠ¼ í˜•íƒœ. ì•ˆì „ì˜ì—­ 8%.
        `.trim()
      },
      {
        id: 5,
        titleLines: ["í˜œíƒ í­ë°œ"],
        points: [
          "ìˆê²Œì„ ë ˆìŠ¨ 15% í• ì¸",
          "+ 2ì¸ ë™ë°˜ ì‹œ ì—°ìŠµì¥ë¹„ 50% ì§€ì›",
          "(ì—°ìŠµì¥ë¹„ ìµœëŒ€ 2ë§Œì› / ì¡°ê±´ë³„ ì ìš©)"
        ],
        prompt: `
[PAGE 5 â€” í˜œíƒ í­ë°œ(í•µì‹¬)]
í˜œíƒ ì•„ì´ì½˜ ì—°ì¶œ: í‹°ì¼“ ì¿ í°, % ì•„ì´ì½˜, ë°”ìš°ì²˜ íƒœê·¸, ì½”ì¸/í¬ì¸íŠ¸ ì•„ì´ì½˜ì´ ê°€ë³ê²Œ ë–¨ì–´ì§€ëŠ” ëŠë‚Œ.
ì‹¤ì œ ëˆ ë¹„ì£¼ì–¼ ê¸ˆì§€(í˜„ê¸ˆ/ì§€í/ë™ì „ ì‚¬ì‹¤ì  í‘œí˜„ X) â€” ê·¸ë˜í”½ ì•„ì´ì½˜ë§Œ.
ë°°ê²½ì— ì—°ìŠµì¥ ì…ì¥ ê²Œì´íŠ¸ê°€ ì•„ì£¼ íë¦¿í•˜ê²Œ ë³´ì„.
ì½”ì¹˜ì™€ ì•„ë§ˆì¶”ì–´ëŠ” â€œì˜¤ í˜œíƒ ê´œì°®ì€ë°?â€ í‘œì •.
í• ì¸ í•©ì‚° ê¸ˆì§€. ë¬¸êµ¬ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€.
í•˜ë‹¨ â—€ 5/8 â–¶ + CTA ë²„íŠ¼ í˜•íƒœ. ì•ˆì „ì˜ì—­ 8%.
        `.trim()
      },
      {
        id: 6,
        titleLines: ["ì´ëŸ° ë¶„ê»˜ ì¶”ì²œí•©ë‹ˆë‹¤"],
        points: [
          "â€¢ ì‹œì¦Œ ì²« ë¼ìš´ë”© ì¤€ë¹„",
          "â€¢ ìˆê²Œì„ ë•Œë¬¸ì— ì ìˆ˜ ì•ˆ ì¤„ì–´ë“œëŠ” ë¶„",
          "â€¢ ì—°ìŠµì¥ê³¼ í•„ë“œ ì°¨ì´ ëŠë¼ëŠ” ë¶„",
          "â€¢ ì¹œêµ¬ì™€ ê°™ì´ ë°°ìš°ê³  ì‹¶ì€ ë¶„"
        ],
        prompt: `
[PAGE 6 â€” ë‚´ ì–˜ê¸°ë„¤(ì¶”ì²œ ëŒ€ìƒ)]
ì„œë¡œ ë‹¤ë¥¸ 3~4ëª…ì˜ ì•„ë§ˆì¶”ì–´ ê³¨í¼(ë‚¨ë…€ í˜¼í•©), ê°ì ë‹¤ë¥¸ í‘œì •/ìƒí™©.
ë§í’ì„  í‚¤ì›Œë“œ: â€œì‹œì¦Œ ì¤€ë¹„â€, â€œìˆê²Œì„â€¦â€, â€œë°±ëŒì´ íƒˆì¶œâ€.
ì½”ì¹˜ëŠ” ë’¤/ì¤‘ì•™ì—ì„œ ìì‹ ê° ìˆê²Œ â€˜í•´ê²°í•´ì¤„ê²Œâ€™ í¬ì§€ì…˜.
ê°ì •: â€œì–´ ë‚˜ì–ì•„â€.
í•˜ë‹¨ â—€ 6/8 â–¶ + CTA ë²„íŠ¼ í˜•íƒœ. ì•ˆì „ì˜ì—­ 8%.
        `.trim()
      },
      {
        id: 7,
        titleLines: ["ì‹ ì²­ ë°©ë²•"],
        descriptionLines: [
          "í•˜ë‹¨ [ì‹ ì²­í•˜ê¸°] í´ë¦­ â†’",
          "ì¹´ì¹´ì˜¤í†¡ ì±„ë„ ì±„íŒ… ì—°ê²°",
          "",
          "ì›í•˜ì‹œëŠ” ë‚ ì§œ ë§ì”€ ì£¼ì‹œë©´",
          "ë ˆìŠ¨ ì¼ì • ë°”ë¡œ ì¡ì•„ë“œë¦½ë‹ˆë‹¤."
        ],
        prompt: `
[PAGE 7 â€” ì§€ê¸ˆ í–‰ë™(ì „í™˜)]
íë¦¿í•œ ì±„íŒ… UI ë°°ê²½(ì¹´ì¹´ì˜¤í†¡ ëŠë‚Œ â€˜ìŠ¤íƒ€ì¼â€™ë§Œ, ìŠ¤í¬ë¦°ìƒ·/ëª©ì—… ê¸ˆì§€).
ë§í’ì„  2~3ê°œ(í•œêµ­ì–´):
â€œìˆê²Œì„ í´ë˜ìŠ¤ ë¬¸ì˜ë“œë ¤ìš”â€
â€œë‚ ì§œ ì–¸ì œ ê°€ëŠ¥í• ê¹Œìš”?â€
(ì„ íƒ) â€œ2ì¸ë„ ê°€ëŠ¥í• ê¹Œìš”?â€
ì „ê²½: ìºë¦­í„°ê°€ íœ´ëŒ€í°ì„ í„°ì¹˜í•˜ëŠ” ì•¡ì…˜.
ê°ì •: â€œì•„ ì´ë ‡ê²Œ ì‹ ì²­í•˜ëŠ”êµ¬ë‚˜â€.
í•˜ë‹¨ â—€ 7/8 â–¶ + CTA ë²„íŠ¼ í˜•íƒœ. ì•ˆì „ì˜ì—­ 8%.
        `.trim()
      },
      {
        id: 8,
        subtitle: "ìˆê²Œì„ì´ ë°”ë€Œë©´ ê³¨í”„ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.",
        titleLines: ["ì§€ê¸ˆ ë°”ë¡œ ì‹ ì²­í•˜ì„¸ìš”"],
        hasCta: true,
        prompt: `
[PAGE 8 â€” ê²°ê³¼ ìƒìƒ(CTA)]
í™€ì»µì— ê³µì´ ë“¤ì–´ê°€ëŠ” ìˆœê°„(ë‹¤ì´ë‚´ë¯¹), í–‡ì‚´, ê³¨í”„ì¥ íŒŒë…¸ë¼ë§ˆ ëŠë‚Œ.
ì•„ë§ˆì¶”ì–´ë“¤ì´ í™˜í˜¸(ì‘ì€ ê·¸ë£¹), ì½”ì¹˜ëŠ” ë¿Œë“¯í•œ ë¯¸ì†Œ.
ê°ì •: â€œë‚˜ë„ ì €ë ‡ê²Œ ë˜ê³  ì‹¶ë‹¤â€.
ë²„íŠ¼ í…ìŠ¤íŠ¸: â€œìˆê²Œì„ í´ë˜ìŠ¤ ì‹ ì²­í•˜ê¸°â€
í•˜ë‹¨ â—€ 8/8 â–¶ + CTA ë²„íŠ¼ í˜•íƒœ. ì•ˆì „ì˜ì—­ 8%.
        `.trim()
      }
    ];

    const CTA_URL = "http://pf.kakao.com/_kxawRn/chat";

    async function genImage(apiKey, pagePrompt) {
      if (!apiKey) return null;
      try {
        const ai = new GoogleGenAI({ apiKey });
        const response = await ai.models.generateContent({
          model: "gemini-2.5-flash-image",
          contents: { parts: [{ text: (GLOBAL_PROMPT_PREFIX + "\n\n" + pagePrompt).trim() }] },
          config: { imageConfig: { aspectRatio: "4:5" } }
        });
        const parts = response?.candidates?.[0]?.content?.parts || [];
        for (const p of parts) {
          if (p.inlineData) {
            return `data:${p.inlineData.mimeType};base64,${p.inlineData.data}`;
          }
        }
        return null;
      } catch (e) {
        console.error(e);
        return null;
      }
    }

    function FallbackScene({ pageId }) {
      return h("div", { className:"w-full h-full relative bg-gradient-to-b from-sky-200 via-sky-100 to-emerald-100" },
        h("div", { className:"absolute inset-0 opacity-[0.25]" },
          h("div", { className:"w-full h-full", style:{
            backgroundImage: `
              radial-gradient(circle at 20% 20%, rgba(37,99,235,.28) 0 2px, transparent 3px),
              radial-gradient(circle at 70% 35%, rgba(37,99,235,.22) 0 2px, transparent 3px),
              radial-gradient(circle at 40% 75%, rgba(16,185,129,.18) 0 2px, transparent 3px)
            `,
            backgroundSize:"80px 80px",
            backgroundPosition:"0 0, 18px 12px, 10px 30px"
          }})
        ),
        h("div", { className:"absolute bottom-0 left-0 right-0 h-[38%] opacity-90 bg-gradient-to-t from-emerald-200 to-transparent" }),
        h("div", { className:"absolute top-5 left-5 text-xs font-black text-white/90 drop-shadow" }, `SCENE ${pageId}`),
        h("div", { className:"absolute inset-0 flex items-center justify-center" },
          h("div", { className:"flex gap-4 text-4xl opacity-90" }, "â›³ï¸","ğŸŒï¸â€â™€ï¸","ğŸŒï¸","ğŸŒï¸â€â™‚ï¸")
        )
      );
    }

    function CardPage({ page, imageUrl, onPrev, onNext, index, total }) {
      const isFirst = index === 0;
      const isLast = index === total - 1;

      const titleNode = h("div", { className:"leading-[1.2] tracking-tight break-keep" },
        page.subtitle ? h("span", { className:"inline-block px-4 py-1.5 bg-blue-600 text-white text-[10px] font-black rounded-full uppercase tracking-widest shadow-lg shadow-blue-100" }, page.subtitle) : null,
        page.titleLines ? h("h1", { className:"mt-3 text-[1.35rem] md:text-3xl font-black text-gray-900" }, renderLines(page.titleLines)) : null,
        page.highlightText ? h("div", { className:"mt-2" },
          h("span", { className:`text-[1.65rem] md:text-4xl font-black ${page.highlightClass || ""}` }, page.highlightText)
        ) : null,
        page.emphasizeText ? h("div", { className:"mt-2" },
          h("span", { className:`text-[1.45rem] md:text-3xl font-black ${page.emphasizeClass || ""}` }, page.emphasizeText)
        ) : null
      );

      const descNode = page.descriptionLines
        ? h("p", { className:"mt-3 text-gray-700 font-bold text-[13px] md:text-base leading-[1.6] bg-white/55 backdrop-blur-sm inline-block px-3 py-2 rounded-xl break-keep" }, renderLines(page.descriptionLines))
        : null;

      const pointsNode = page.points && page.points.length
        ? h("ul", { className:"space-y-3" },
            ...page.points.map((pt, i) =>
              h("li", { key:i, className:"bg-white/90 backdrop-blur-md p-4 rounded-2xl border border-gray-100 shadow-sm font-extrabold text-gray-800 flex items-start" },
                h("span", { className:"mr-3 mt-1 w-5 h-5 flex-shrink-0 flex items-center justify-center bg-blue-600 text-white rounded-full text-[9px] font-black" }, "âœ“"),
                h("span", { className:"leading-snug text-[14px] md:text-[15px] break-keep" }, pt)
              )
            )
          )
        : null;

      return h("div", { className:"relative w-full aspect-4-5 overflow-hidden rounded-[2.5rem] shadow-xl bg-white flex flex-col border border-gray-100" },
        h("div", { className:"absolute inset-0 w-full h-full" },
          imageUrl
            ? h("img", { src:imageUrl, alt:"scene", className:"w-full h-full object-cover" })
            : h(FallbackScene, { pageId: page.id }),
          h("div", { className:"absolute inset-0 bg-gradient-to-b from-white/55 via-white/10 to-white/45" })
        ),

        h("div", { className:"relative z-10 h-full flex flex-col justify-between p-8 md:p-10" },
          h("div", { className:"space-y-1" }, titleNode, descNode),

          h("div", { className:"flex-1 flex flex-col justify-center py-4" }, pointsNode),

          h("div", { className:"space-y-3" },
            h("div", { className:"flex items-center justify-between" },
              h("button", {
                onClick:onPrev, disabled:isFirst,
                className:`tap px-4 py-2 rounded-full font-black text-sm border transition ${
                  isFirst ? "bg-white/40 text-gray-300 border-gray-200" : "bg-white/85 text-gray-700 border-gray-200 hover:bg-white"
                }`
              }, "â—€"),
              h("div", { className:"text-[11px] font-black text-gray-500 bg-white/60 backdrop-blur px-3 py-1.5 rounded-full border border-gray-100" }, `${index+1} / ${total}`),
              h("button", {
                onClick:onNext, disabled:isLast,
                className:`tap px-4 py-2 rounded-full font-black text-sm border transition ${
                  isLast ? "bg-white/40 text-gray-300 border-gray-200" : "bg-white/85 text-gray-700 border-gray-200 hover:bg-white"
                }`
              }, "â–¶")
            ),
            h("div", { className:"flex justify-center" },
              h("div", { className:"text-[9px] text-gray-400 font-black bg-white/60 backdrop-blur-sm px-4 py-2 rounded-full border border-gray-100 tracking-widest uppercase" },
                "SEUSEUNGNIM X SEO SU YEON"
              )
            )
          )
        )
      );
    }

    function renderLines(lines) {
      const children = [];
      lines.forEach((line, idx) => {
        children.push(h("span", { key:`l-${idx}` }, line));
        if (idx < lines.length - 1) children.push(h("br", { key:`br-${idx}` }));
      });
      return h("span", null, ...children);
    }

    function App(){
      const apiKey = useMemo(() => localStorage.getItem("GEMINI_API_KEY") || "", []);
      const [activeIndex, setActiveIndex] = useState(0);
      const [images, setImages] = useState({});

      const page = PAGES[activeIndex];

      useEffect(() => {
        let mounted = true;
        (async () => {
          if (!apiKey) return;
          if (images[page.id]) return;
          const url = await genImage(apiKey, page.prompt);
          if (!mounted) return;
          if (url) setImages(prev => ({ ...prev, [page.id]: url }));
        })();
        return () => { mounted = false; };
      }, [apiKey, page.id, page.prompt, images]);

      const goPrev = useCallback(() => setActiveIndex(i => Math.max(0, i-1)), []);
      const goNext = useCallback(() => setActiveIndex(i => Math.min(PAGES.length-1, i+1)), []);
      const handleApply = useCallback(() => window.open(CTA_URL, "_blank"), []);

      return h("div", { className:"min-h-screen bg-slate-50 flex flex-col items-center pb-28" },
        h("div", { className:"w-full max-w-md mx-auto flex flex-col gap-6 p-4" },
          h("div", { className:"bg-white rounded-[2rem] p-6 shadow-sm border border-gray-100 flex items-center justify-between" },
            h("div", { className:"flex flex-col" },
              h("span", { className:"text-[10px] font-black text-blue-600 tracking-widest uppercase" }, "Premium Lesson"),
              h("span", { className:"text-lg font-black text-gray-900" }, "ì„œìˆ˜ì—° í”„ë¡œì˜ ìˆê²Œì„")
            ),
            h("div", { className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center" },
              h("span", { className:"text-xl" }, "ğŸŒï¸â€â™€ï¸")
            )
          ),

          h(CardPage, {
            page,
            imageUrl: images[page.id],
            onPrev: goPrev,
            onNext: goNext,
            index: activeIndex,
            total: PAGES.length
          }),

          h("div", { className:"pt-2" },
            h("button", {
              onClick: handleApply,
              className:"tap w-full py-6 bg-[#FEE500] text-[#3c1e1e] font-black text-xl rounded-3xl shadow-2xl flex items-center justify-center gap-3 hover:bg-[#FDD800] active:scale-[0.97] transition-all"
            },
              h("img", {
                src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/KakaoTalk_logo.svg/2500px-KakaoTalk_logo.svg.png",
                className:"w-8 h-8",
                alt:"kakao"
              }),
              "ìˆê²Œì„ í´ë˜ìŠ¤ ì‹ ì²­í•˜ê¸°"
            ),
            h("p", { className:"mt-4 text-center text-gray-400 text-xs font-medium" }, "Â© 2026 SEUSEUNGNIM X PRO SEO SU YEON")
          )
        ),

        h("div", { className:"fixed bottom-0 left-0 right-0 p-5 max-w-md mx-auto z-30" },
          h("button", {
            onClick: handleApply,
            className:"tap w-full py-5 bg-[#FEE500] text-[#3c1e1e] font-black text-lg rounded-full shadow-[0_15px_40px_rgba(254,229,0,0.5)] flex items-center justify-center gap-3 border-4 border-white"
          },
            h("img", {
              src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/KakaoTalk_logo.svg/2500px-KakaoTalk_logo.svg.png",
              className:"w-6 h-6",
              alt:"kakao"
            }),
            "ì§€ê¸ˆ ë°”ë¡œ ë¬¸ì˜í•˜ê¸°"
          )
        )
      );
    }

    const rootEl = document.getElementById("root");
    createRoot(rootEl).render(h(React.StrictMode, null, h(App)));
  </script>
</body>
</html>
